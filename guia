# ğŸš¨ Guard-Cost: ProteÃ§Ã£o AutomÃ¡tica contra Custos AWS

## ğŸ“– Sobre o Projeto
O Guard-Cost Ã© uma soluÃ§Ã£o automatizada que monitora seus gastos na AWS e **desliga automaticamente** recursos quando o orÃ§amento Ã© ultrapassado, evitando surpresas na fatura.

## ğŸ¯ Funcionalidades
- âœ… Monitoramento em tempo real de custos AWS
- âœ… Alerta automÃ¡tico quando passa de $0,01 USD
- âœ… Desligamento automÃ¡tico de recursos (EC2, RDS, ECS)
- âœ… Deploy automatizado com GitHub Actions
- âœ… Infraestrutura como cÃ³digo com Terraform

## ğŸ› ï¸ Tecnologias Utilizadas
- **Terraform**: Infraestrutura como cÃ³digo
- **AWS Lambda (Python)**: AutomaÃ§Ã£o das aÃ§Ãµes
- **AWS Budgets**: Monitoramento de gastos
- **AWS SNS**: Sistema de notificaÃ§Ãµes
- **GitHub Actions**: CI/CD Pipeline

## ğŸš€ Como Implementar

### PrÃ©-requisitos
- Conta AWS ativa
- Conta GitHub
- AWS CLI configurado (opcional para testes locais)

### Passo 1: Fork/Clone do RepositÃ³rio
```bash
git clone https://github.com/rabelossp/Guard-Cost.git
cd Guard-Cost
```

### Passo 2: Configurar Secrets no GitHub
No seu repositÃ³rio GitHub:
1. VÃ¡ em **Settings** > **Secrets and variables** > **Actions**
2. Crie os seguintes secrets:
   - `AWS_ACCESS_KEY_ID`
   - `AWS_SECRET_ACCESS_KEY`
   - `AWS_REGION` (ex: us-east-1)

### Passo 3: Estrutura do Projeto
```
Guard-Cost/
â”œâ”€â”€ .github/workflows/    # GitHub Actions
â”œâ”€â”€ terraform/           # Arquivos Terraform
â”‚   â”œâ”€â”€ main.tf
â”‚   â”œâ”€â”€ lambda.tf
â”‚   â”œâ”€â”€ budget.tf
â”‚   â””â”€â”€ variables.tf
â”œâ”€â”€ lambda/             # CÃ³digo Python da Lambda
â”‚   â””â”€â”€ lambda_function.py
â””â”€â”€ README.md
```

### Passo 4: Deploy AutomÃ¡tico
1. FaÃ§a um push para a branch `main`
2. O GitHub Actions serÃ¡ executado automaticamente
3. A infraestrutura serÃ¡ criada na AWS

### Passo 5: PersonalizaÃ§Ã£o (Opcional)
- Ajuste o limite de custo em `terraform/budget.tf`
- Modifique quais recursos desligar em `lambda/lambda_function.py`
- Configure notificaÃ§Ãµes por email no SNS

## âš™ï¸ Como Funciona

### Fluxo de Funcionamento
1. **AWS Budgets** monitora gastos continuamente
2. Quando o custo passa de $0,01 USD, dispara **SNS**
3. **SNS** aciona a **Lambda Function**
4. **Lambda** executa aÃ§Ãµes de contenÃ§Ã£o (desligar EC2, RDS, etc.)
5. VocÃª recebe notificaÃ§Ã£o do que foi desligado

### Recursos Suportados
- âœ… EC2 Instances
- âœ… RDS Instances
- âœ… ECS Services
- ğŸ”„ DocumentDB (em desenvolvimento)
- ğŸ”„ ElastiCache (em desenvolvimento)

## ğŸ’° Economia Estimada
- **Sem Guard-Cost**: Risco de gastos descontrolados
- **Com Guard-Cost**: Custo mÃ¡ximo de ~$0,01-0,05 USD/mÃªs
- **ROI**: Potencial economia de centenas de dÃ³lares

## ğŸ”’ SeguranÃ§a
- Credenciais AWS armazenadas em GitHub Secrets
- IAM Roles com permissÃµes mÃ­nimas necessÃ¡rias
- Logs detalhados no CloudWatch
- Reversibilidade total (pode religar recursos manualmente)

## ğŸ“Š Casos de Uso Ideais
- **Estudantes**: Aprendendo AWS sem medo da fatura
- **Desenvolvedores**: Ambientes de desenvolvimento seguros
- **Startups**: Controle rigoroso de custos em projetos POC
- **Empresas**: Ambientes de sandbox com orÃ§amento limitado

## ğŸš¨ Avisos Importantes
- âš ï¸ Configure adequadamente quais recursos podem ser desligados
- âš ï¸ Teste em ambiente nÃ£o-produtivo primeiro
- âš ï¸ Mantenha backups de dados importantes
- âš ï¸ Recursos desligados podem afetar aplicaÃ§Ãµes ativas
